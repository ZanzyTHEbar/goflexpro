version: v2
plugins:
    - local: protoc-gen-go
      out: ../backend/pkgs/gen
      opt:
          - paths=source_relative
    - local: protoc-gen-connect-go
      out: ../backend/pkgs/gen
      opt:
          - paths=source_relative
    - local: protoc-gen-es
      out: ../frontend/src/static/types/gen
      opt: target=ts
    - local: protoc-gen-connect-es
      out: ../frontend/src/static/types/gen
      opt: target=ts
    #- name: go
    #  out: ../backend/internal/domains/gen
    #  opt: paths=source_relative
    #- name: go-grpc
    #  out: ../backend/internal/domains/gen
    #  opt: paths=source_relative
    #- name: grpc-gateway
    #  out: ../backend/internal/domains/gen
    #  opt:
    #    - paths=source_relative
    #    - generate_unbound_methods=true
    #- name: grpc-gateway-ts
    #  out: ../frontend/src/static/types/gen
    #  opt:
    #    - paths=source_relative
    #    - generate_unbound_methods=true
    #- plugin: buf.build/grpc-ecosystem/openapiv2:v2.16.2
    #  out: ./api/docs
